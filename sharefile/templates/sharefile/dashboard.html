<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
</head>
<body>
    <h2>Welcome, {{ user.username }}!</h2>

    <!-- File Upload Form -->
    <h3>Upload a File</h3>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        <!-- Subject Field -->
        <div>
            <label for="id_subject">Subject:</label>
            {{ form.subject }}
        </div>
        
        <!-- File Field -->
        <div>
            <label for="id_notefile">File:</label>
            {{ form.notefile }}
        </div>
        
        <!-- File Type Field -->
        <div>
            <label for="id_filetype">File Type:</label>
            {{ form.filetype }}
        </div>

        <button type="submit">Upload</button>
    </form>

    <!-- Display Uploaded Files -->
    <h3>Your Uploaded Files</h3>
    <ul>
        {% for note in notes %}
            <li>
                <strong>{{ note.subject }}</strong> ({{ note.filetype }}) 
                <a href="{{ note.notefile.url }}" download>Download</a>
            </li>
        {% empty %}
            <p>No files uploaded yet.</p>
        {% endfor %}
    </ul>

    <!-- Logout Link -->
    <a href="{% url 'logout_view' %}">Logout</a>
</body>
</html>
